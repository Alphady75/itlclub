{% extends 'admin.html.twig' %}

{% block title %}Partenaires {{ user.lastname ~ ' ' ~ user.name }} {% endblock %}

{% block body %}

<div class="card">
    <div class="card-header">
        <h1 class="card-title h3">Informations sur le Partenaires: {{ user.lastname ~ ' ' ~ user.name }}</h1>
    </div>
    <div class="card-body">

        <div class="row">
            <div class="col-sm-10">

                <h4 class="font-weight-bold h6">1 - Profil</h4>
                <table class="table table-hover table-borderless">
                    <tbody>
                        <tr>
                            <th>Id</th>
                            <td>{{ user.id }}</td>
                        </tr>
                        <tr>
                            <th>
                                <img src="{{ asset('img/user.jpg') }}" class="rounded-circle" width="90">
                            </th>
                            <td>
                                <h6>{{ user.name }}</h6>
                                <strong>{{ user.lastname }}</strong>
                            </td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td>{{ user.email }}</td>
                        </tr>
                        <tr>
                            <th>Mot de passe</th>
                            <td>****</td>
                        </tr>
                        <tr>
                            <th>Fonction</th>
                            <td>{{ user.job }}</td>
                        </tr>
                        <tr>
                            <th>Roles</th>
                            <td>
                                <span class="badge bg-primary">
                                    Partenaire
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <th>Téléphone</th>
                            <td>{{ user.telephone }}</td>
                        </tr>
                        <tr>
                            <th>Date d'inscription</th>
                            <td>{{ user.subscriptionDate ? user.subscriptionDate|date('d/m/Y') : '' }}</td>
                        </tr>
                        <tr>
                            <th>Actions</th>
                            <td>
                                <a href="{{ path('admin_user_edit', {'id': user.id }) }}" class="btn btn-primary">Modifier le profil</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <hr>
                <h4 class="font-weight-bold h6">2 - Coordonnées partenaire</h4>
                <table class="table table-hover table-borderless">
                    <tbody>
                        <tr>
                            <th>Adresse</th>
                            <td>{{ user.adress.number }} {{ user.adress.street }}</td>
                        </tr>
                        <tr>
                            <th>Code postal</th>
                            <td>{{ user.adress.postalCode }}</td>
                        </tr>
                        <tr>
                            <th>Ville</th>
                            <td>{{ user.adress.city }}</td>
                        </tr>
                        <tr>
                            <th>Date</th>
                            <td>{{ user.adress.created|date('d/m/Y') }}</td>
                        </tr>
                        <tr>
                            <th>Actions</th>
                            <td>
                                <a href="{{ path('admin_adress_edit', {'id': user.adress.id }) }}" class="btn btn-primary">Modifier l'adresse</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <hr>
                <h4 class="font-weight-bold h6">3 - Entreprise</h4>
                <table class="table table-hover table-borderless">
                    <tbody>
                        <tr>
                            <th>Id</th>
                            <td>{{ user.company.id }}</td>
                        </tr>
                        <tr>
                            <th>Image</th>
                            <td>
                                {% if user.company %}
                                {% if user.company.picture %}
                                <img src="{{ vich_uploader_asset(user.company) | imagine_filter('medium_size') }}" class="rounded img-fluid" alt="{{ user.company.name }}" />
                                {% endif %}
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Nom</th>
                            <td>{{ user.company.name }}</td>
                        </tr>
                        <tr>
                            <th>Comptoir</th>
                            <td><strong>{{ user.company.agenceadresse.agence.name }}</strong></td>
                        </tr>
                        <tr>
                            <th>Agence</th>
                            <td>{{ user.company.agenceadresse.street }}</td>
                        </tr>
                        <tr>
                            <th>Siret</th>
                            <td>{{ user.company.siret }}</td>
                        </tr>
                        <tr>
                            <th>Nombres d'employées</th>
                            <td>
                                {% if user.company.nbEmployees == 1 %}
                                0-4 salaries
                                {% elseif user.company.nbEmployees == 2 %}
                                5-9 salaries
                                {% elseif user.company.nbEmployees == 3 %}
                                10 salaries et + 
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Téléphone</th>
                            <td>{{ user.company.phoneNumber }}</td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td>{{ user.company.email }}</td>
                        </tr>
                        <tr>
                            <th>Actions</th>
                            <td>
                                <a href="{{ path('admin_company_edit', {'id': user.company.id }) }}" class="btn btn-primary">
                                    Modifier l'entreprise
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                
            </div>
        </div>
    </div>
</div>
{% endblock %}
